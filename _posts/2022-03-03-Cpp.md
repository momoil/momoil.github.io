---
layout: post
title: "C++ 泛型编程和STL技术"
date: 2022-03-03
tags: [C++]
comments: true
author: momo
---

C++ 泛型编程和STL技术

<!-- more -->

# 开始 #

# 1 模板 #
## 1.1 模板的概念 ##

- 模板就是建立通用的模具，大大提高复用性

模板的特点:

- 模板不可以直接使用，它只是一个框架
- 模板的通用并不是万能的

## 1.2函数模板 ##
C++另一种编程思想称为l泛型编程，主要利用的技术就是模板

C++提供两种模板机制:**函数模板**和**类模板**

### 1.2.1函数模板语法 ###
函数模板作用:
建立一个通用函数，其函数返回值类型和形参类型可以不具体制定，用一个虚拟的类型来代表。

语法：

    template<typename T>
    函数声明或定义


解释：

- template ---声明创建模板
- typename ---表面其后面的符号是一种数据类型，可以用class代替
- T ---通用的数据类型，名称可以替换，通常为大写字母

>     //函数模板
>     template<typename T>
>     void mySwap(T& a, T& b)
>     {
>     	T temp = a;
>     	a = b;
>     	b = temp;
>     };
>     
>     void test()
>     {
>     	//使用函数模板的方法
>     	//1.自动类型推导
>     	int a = 10;
>     	int b = 20;
>     	mySwap(a, b);
>     	//2.显示指定类型
>     	mySwap<int>(a, b);
>     }

- 函数模板利用关键字template
- 使用函数模板有两种方式:自动类型推导、显示指定类型
- 模板的目的是为了提高复用性，将类型参数化

### 1.2.2函数模板注意事项 ###
注意事项:

- 自动类型推导，必须推导出一致的数据类型T,才可以使用
- 模板必须要确定出T的数据类型，才可以使用

### 1.2.3普通函数与函数模板的区别 ###

普通函数与函数模板区别:

- 普通函数调用时可以发生自动类型转换(隐式类型转换)
- 函数模板调用时，如果利用自动类型推导，不会发生隐式类型转换
- 如果利用显示指定类型的方式，可以发生隐式类型转换

### 1.2.4普通函数与函数模板的调用规则 ###

调用规则如下:

1. 如果函数模板和普通函数都可以实现，优先调用普通函数
2. 可以通过空模板参数列表来强制调用函数模板  函数名<>(参数)；
3. 函数模板也可以发生重载
4. 如果函数模板可以产生更好的匹配,优先调用函数模板
